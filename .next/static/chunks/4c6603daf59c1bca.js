(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82391,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(22016),a=e.i(18566),o=e.i(61668),l=e.i(88844),s=e.i(47070),i=e.i(39616),d=e.i(75254);let u=(0,d.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),c=(0,d.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var f=e.i(37727);let p=(0,d.default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var m=e.i(1928),h=e.i(35408),v=e.i(2008);let g=(0,d.default)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var x=e.i(84614);let w=(0,d.default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),b=(0,d.default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);function y(){let[e,n]=(0,r.useState)(!1),[a,o]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{o(!0),n(document.documentElement.classList.contains("dark"))},[]),a)?(0,t.jsx)("button",{onClick:()=>{let t=document.documentElement,r=!e;r?(t.classList.add("dark"),localStorage.setItem("theme","dark")):(t.classList.remove("dark"),localStorage.setItem("theme","light")),n(r)},className:"p-2 hover:bg-secondary rounded-lg transition-colors",title:e?"Switch to light mode":"Switch to dark mode",children:e?(0,t.jsx)(b,{className:"w-5 h-5 text-accent"}):(0,t.jsx)(w,{className:"w-5 h-5 text-accent"})}):(0,t.jsx)("button",{className:"p-2 hover:bg-secondary rounded-lg transition-colors cursor-not-allowed",children:(0,t.jsx)(b,{className:"w-5 h-5"})})}var j=e.i(73866),k=e.i(67881),C=e.i(94179),E=/[\\\/_+.#"@\[\(\{&]/,R=/[\\\/_+.#"@\[\(\{&]/g,M=/[\s-]/,S=/[\s-]/g;function N(e){return e.toLowerCase().replace(S," ")}var P=e.i(26999),D=e.i(48425),I=e.i(10772),_=e.i(2239),A='[cmdk-group=""]',L='[cmdk-group-items=""]',$='[cmdk-item=""]',T=`${$}:not([aria-disabled="true"])`,F="cmdk-item-select",H="data-value",O=(e,t,r)=>{var n;return n=e,function e(t,r,n,a,o,l,s){if(l===r.length)return o===t.length?1:.99;var i=`${o},${l}`;if(void 0!==s[i])return s[i];for(var d,u,c,f,p=a.charAt(l),m=n.indexOf(p,o),h=0;m>=0;)(d=e(t,r,n,a,m+1,l+1,s))>h&&(m===o?d*=1:E.test(t.charAt(m-1))?(d*=.8,(c=t.slice(o,m-1).match(R))&&o>0&&(d*=Math.pow(.999,c.length))):M.test(t.charAt(m-1))?(d*=.9,(f=t.slice(o,m-1).match(S))&&o>0&&(d*=Math.pow(.999,f.length))):(d*=.17,o>0&&(d*=Math.pow(.999,m-o))),t.charAt(m)!==r.charAt(l)&&(d*=.9999)),(d<.1&&n.charAt(m-1)===a.charAt(l+1)||a.charAt(l+1)===a.charAt(l)&&n.charAt(m-1)!==a.charAt(l))&&.1*(u=e(t,r,n,a,m+1,l+2,s))>d&&(d=.1*u),d>h&&(h=d),m=n.indexOf(p,m+1);return s[i]=h,h}(n=r&&r.length>0?`${n+" "+r.join(" ")}`:n,t,N(n),N(t),0,0,{})},K=r.createContext(void 0),z=r.createContext(void 0),U=r.createContext(void 0),G=r.forwardRef((e,t)=>{let n=ee(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",filtered:{count:0,items:new Map,groups:new Set}}}),a=ee(()=>new Set),o=ee(()=>new Map),l=ee(()=>new Map),s=ee(()=>new Set),i=J(e),{label:d,children:u,value:c,onValueChange:f,filter:p,shouldFilter:m,loop:h,disablePointerSelection:v=!1,vimBindings:g=!0,...x}=e,w=(0,I.useId)(),b=(0,I.useId)(),y=(0,I.useId)(),j=r.useRef(null),k=ea();Q(()=>{if(void 0!==c){let e=c.trim();n.current.value=e,C.emit()}},[c]),Q(()=>{k(6,P)},[]);let C=r.useMemo(()=>({subscribe:e=>(s.current.add(e),()=>s.current.delete(e)),snapshot:()=>n.current,setState:(e,t,r)=>{var a,o,l;if(!Object.is(n.current[e],t)){if(n.current[e]=t,"search"===e)N(),M(),k(1,S);else if("value"===e&&(r||k(5,P),(null==(a=i.current)?void 0:a.value)!==void 0)){null==(l=(o=i.current).onValueChange)||l.call(o,null!=t?t:"");return}C.emit()}},emit:()=>{s.current.forEach(e=>e())}}),[]),E=r.useMemo(()=>({value:(e,t,r)=>{var a;t!==(null==(a=l.current.get(e))?void 0:a.value)&&(l.current.set(e,{value:t,keywords:r}),n.current.filtered.items.set(e,R(t,r)),k(2,()=>{M(),C.emit()}))},item:(e,t)=>(a.current.add(e),t&&(o.current.has(t)?o.current.get(t).add(e):o.current.set(t,new Set([e]))),k(3,()=>{N(),M(),n.current.value||S(),C.emit()}),()=>{l.current.delete(e),a.current.delete(e),n.current.filtered.items.delete(e);let t=_();k(4,()=>{N(),(null==t?void 0:t.getAttribute("id"))===e&&S(),C.emit()})}),group:e=>(o.current.has(e)||o.current.set(e,new Set),()=>{l.current.delete(e),o.current.delete(e)}),filter:()=>i.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>i.current.disablePointerSelection,listId:w,inputId:y,labelId:b,listInnerRef:j}),[]);function R(e,t){var r,a;let o=null!=(a=null==(r=i.current)?void 0:r.filter)?a:O;return e?o(e,n.current.search,t):0}function M(){if(!n.current.search||!1===i.current.shouldFilter)return;let e=n.current.filtered.items,t=[];n.current.filtered.groups.forEach(r=>{let n=o.current.get(r),a=0;n.forEach(t=>{a=Math.max(e.get(t),a)}),t.push([r,a])});let r=j.current;U().sort((t,r)=>{var n,a;let o=t.getAttribute("id"),l=r.getAttribute("id");return(null!=(n=e.get(l))?n:0)-(null!=(a=e.get(o))?a:0)}).forEach(e=>{let t=e.closest(L);t?t.appendChild(e.parentElement===t?e:e.closest(`${L} > *`)):r.appendChild(e.parentElement===r?e:e.closest(`${L} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=j.current)?void 0:t.querySelector(`${A}[${H}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function S(){let e=U().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(H);C.setState("value",t||void 0)}function N(){var e,t,r,s;if(!n.current.search||!1===i.current.shouldFilter){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let d=0;for(let o of a.current){let a=R(null!=(t=null==(e=l.current.get(o))?void 0:e.value)?t:"",null!=(s=null==(r=l.current.get(o))?void 0:r.keywords)?s:[]);n.current.filtered.items.set(o,a),a>0&&d++}for(let[e,t]of o.current)for(let r of t)if(n.current.filtered.items.get(r)>0){n.current.filtered.groups.add(e);break}n.current.filtered.count=d}function P(){var e,t,r;let n=_();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(r=null==(t=n.closest(A))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function _(){var e;return null==(e=j.current)?void 0:e.querySelector(`${$}[aria-selected="true"]`)}function U(){var e;return Array.from((null==(e=j.current)?void 0:e.querySelectorAll(T))||[])}function G(e){let t=U()[e];t&&C.setState("value",t.getAttribute(H))}function V(e){var t;let r=_(),n=U(),a=n.findIndex(e=>e===r),o=n[a+e];null!=(t=i.current)&&t.loop&&(o=a+e<0?n[n.length-1]:a+e===n.length?n[0]:n[a+e]),o&&C.setState("value",o.getAttribute(H))}function q(e){let t=_(),r=null==t?void 0:t.closest(A),n;for(;r&&!n;)n=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,A):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,A))?void 0:r.querySelector(T);n?C.setState("value",n.getAttribute(H)):V(e)}let B=()=>G(U().length-1),X=e=>{e.preventDefault(),e.metaKey?B():e.altKey?q(1):V(1)},W=e=>{e.preventDefault(),e.metaKey?G(0):e.altKey?q(-1):V(-1)};return r.createElement(D.Primitive.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:e=>{var t;if(null==(t=x.onKeyDown)||t.call(x,e),!e.defaultPrevented)switch(e.key){case"n":case"j":g&&e.ctrlKey&&X(e);break;case"ArrowDown":X(e);break;case"p":case"k":g&&e.ctrlKey&&W(e);break;case"ArrowUp":W(e);break;case"Home":e.preventDefault(),G(0);break;case"End":e.preventDefault(),B();break;case"Enter":if(!e.nativeEvent.isComposing&&229!==e.keyCode){e.preventDefault();let t=_();if(t){let e=new Event(F);t.dispatchEvent(e)}}}}},r.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:el},d),eo(e,e=>r.createElement(z.Provider,{value:C},r.createElement(K.Provider,{value:E},e))))}),V=r.forwardRef((e,t)=>{var n,a;let o=(0,I.useId)(),l=r.useRef(null),s=r.useContext(U),i=r.useContext(K),d=J(e),u=null!=(a=null==(n=d.current)?void 0:n.forceMount)?a:null==s?void 0:s.forceMount;Q(()=>{if(!u)return i.item(o,null==s?void 0:s.id)},[u]);let c=en(o,l,[e.value,e.children,l],e.keywords),f=r.useContext(z),p=er(e=>e.value&&e.value===c.current),m=er(e=>!!u||!1===i.filter()||!e.search||e.filtered.items.get(o)>0);function h(){var e,t;v(),null==(t=(e=d.current).onSelect)||t.call(e,c.current)}function v(){f.setState("value",c.current,!0)}if(r.useEffect(()=>{let t=l.current;if(!(!t||e.disabled))return t.addEventListener(F,h),()=>t.removeEventListener(F,h)},[m,e.onSelect,e.disabled]),!m)return null;let{disabled:g,value:x,onSelect:w,forceMount:b,keywords:y,...j}=e;return r.createElement(D.Primitive.div,{ref:et([l,t]),...j,id:o,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!p,"data-disabled":!!g,"data-selected":!!p,onPointerMove:g||i.getDisablePointerSelection()?void 0:v,onClick:g?void 0:h},e.children)}),q=r.forwardRef((e,t)=>{let{heading:n,children:a,forceMount:o,...l}=e,s=(0,I.useId)(),i=r.useRef(null),d=r.useRef(null),u=(0,I.useId)(),c=r.useContext(K),f=er(e=>!!o||!1===c.filter()||!e.search||e.filtered.groups.has(s));Q(()=>c.group(s),[]),en(s,i,[e.value,e.heading,d]);let p=r.useMemo(()=>({id:s,forceMount:o}),[o]);return r.createElement(D.Primitive.div,{ref:et([i,t]),...l,"cmdk-group":"",role:"presentation",hidden:!f||void 0},n&&r.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),eo(e,e=>r.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},r.createElement(U.Provider,{value:p},e))))}),B=r.forwardRef((e,t)=>{let{alwaysRender:n,...a}=e,o=r.useRef(null),l=er(e=>!e.search);return n||l?r.createElement(D.Primitive.div,{ref:et([o,t]),...a,"cmdk-separator":"",role:"separator"}):null}),X=r.forwardRef((e,t)=>{let{onValueChange:n,...a}=e,o=null!=e.value,l=r.useContext(z),s=er(e=>e.search),i=er(e=>e.value),d=r.useContext(K),u=r.useMemo(()=>{var e;let t=null==(e=d.listInnerRef.current)?void 0:e.querySelector(`${$}[${H}="${encodeURIComponent(i)}"]`);return null==t?void 0:t.getAttribute("id")},[]);return r.useEffect(()=>{null!=e.value&&l.setState("search",e.value)},[e.value]),r.createElement(D.Primitive.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":u,id:d.inputId,type:"text",value:o?e.value:s,onChange:e=>{o||l.setState("search",e.target.value),null==n||n(e.target.value)}})}),W=r.forwardRef((e,t)=>{let{children:n,label:a="Suggestions",...o}=e,l=r.useRef(null),s=r.useRef(null),i=r.useContext(K);return r.useEffect(()=>{if(s.current&&l.current){let e=s.current,t=l.current,r,n=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return n.observe(e),()=>{cancelAnimationFrame(r),n.unobserve(e)}}},[]),r.createElement(D.Primitive.div,{ref:et([l,t]),...o,"cmdk-list":"",role:"listbox","aria-label":a,id:i.listId},eo(e,e=>r.createElement("div",{ref:et([s,i.listInnerRef]),"cmdk-list-sizer":""},e)))}),Y=r.forwardRef((e,t)=>{let{open:n,onOpenChange:a,overlayClassName:o,contentClassName:l,container:s,...i}=e;return r.createElement(P.Root,{open:n,onOpenChange:a},r.createElement(P.Portal,{container:s},r.createElement(P.Overlay,{"cmdk-overlay":"",className:o}),r.createElement(P.Content,{"aria-label":e.label,"cmdk-dialog":"",className:l},r.createElement(G,{ref:t,...i}))))}),Z=Object.assign(G,{List:W,Item:V,Input:X,Group:q,Separator:B,Dialog:Y,Empty:r.forwardRef((e,t)=>er(e=>0===e.filtered.count)?r.createElement(D.Primitive.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:r.forwardRef((e,t)=>{let{progress:n,children:a,label:o="Loading...",...l}=e;return r.createElement(D.Primitive.div,{ref:t,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},eo(e,e=>r.createElement("div",{"aria-hidden":!0},e)))})});function J(e){let t=r.useRef(e);return Q(()=>{t.current=e}),t}var Q="undefined"==typeof window?r.useEffect:r.useLayoutEffect;function ee(e){let t=r.useRef();return void 0===t.current&&(t.current=e()),t}function et(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}function er(e){let t=r.useContext(z),n=()=>e(t.snapshot());return(0,_.useSyncExternalStore)(t.subscribe,n,n)}function en(e,t,n,a=[]){let o=r.useRef(),l=r.useContext(K);return Q(()=>{var r;let s=(()=>{var e;for(let t of n){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():o.current}})(),i=a.map(e=>e.trim());l.value(e,s,i),null==(r=t.current)||r.setAttribute(H,s),o.current=s}),o}var ea=()=>{let[e,t]=r.useState(),n=ee(()=>new Map);return Q(()=>{n.current.forEach(e=>e()),n.current=new Map},[e]),(e,r)=>{n.current.set(e,r),t({})}};function eo({asChild:e,children:t},n){let a;return e&&r.isValidElement(t)?r.cloneElement("function"==typeof(a=t.type)?a(t.props):"render"in a?a.render(t.props):t,{ref:t.ref},n(t.props.children)):n(t)}var el={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},es=e.i(54943),es=es,ei=e.i(47163);function ed({className:e,...r}){return(0,t.jsx)(Z,{"data-slot":"command",className:(0,ei.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...r})}function eu({className:e,...r}){return(0,t.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,t.jsx)(es.default,{className:"size-4 shrink-0 opacity-50"}),(0,t.jsx)(Z.Input,{"data-slot":"command-input",className:(0,ei.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...r})]})}function ec({className:e,...r}){return(0,t.jsx)(Z.List,{"data-slot":"command-list",className:(0,ei.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...r})}function ef({...e}){return(0,t.jsx)(Z.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function ep({className:e,...r}){return(0,t.jsx)(Z.Group,{"data-slot":"command-group",className:(0,ei.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...r})}function em({className:e,...r}){return(0,t.jsx)(Z.Item,{"data-slot":"command-item",className:(0,ei.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}e.i(30374);var eh=e.i(59377),ev=e.i(55436),eg=e.i(78583);let ex=(0,d.default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),ew=(0,d.default)("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);function eb(){let{products:e,receipts:a,deliveries:o,transfers:s,adjustments:d,ledger:u}=(0,j.useStore)(),[c,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),[h,v]=(0,r.useState)([]);return(0,r.useEffect)(()=>{if(p.length<2)return void v([]);let t=p.toLowerCase(),r=[],n=Date.now().toString();e.forEach((e,a)=>{(e.name.toLowerCase().includes(t)||e.sku.toLowerCase().includes(t)||e.category.toLowerCase().includes(t))&&r.push({id:`product-${e.id}-${n}-${a}`,title:e.name,subtitle:`SKU: ${e.sku} • Stock: ${e.stock} ${e.uom}`,type:"product",href:"/dashboard/products",badge:e.category})}),a.forEach((e,a)=>{(e.supplier.toLowerCase().includes(t)||e.id.toLowerCase().includes(t))&&r.push({id:`receipt-${e.id}-${n}-${a}`,title:`Receipt from ${e.supplier}`,subtitle:`${e.date} • ${e.totalItems} items`,type:"receipt",href:"/dashboard/receipts",badge:e.status})}),o.forEach((e,a)=>{(e.customer.toLowerCase().includes(t)||e.id.toLowerCase().includes(t))&&r.push({id:`delivery-${e.id}-${n}-${a}`,title:`Delivery to ${e.customer}`,subtitle:`${e.date} • ${e.totalItems} items`,type:"delivery",href:"/dashboard/deliveries",badge:e.status})}),s.forEach((e,a)=>{(e.fromLocation.toLowerCase().includes(t)||e.toLocation.toLowerCase().includes(t)||e.id.toLowerCase().includes(t))&&r.push({id:`transfer-${e.id}-${n}-${a}`,title:`Transfer: ${e.fromLocation} → ${e.toLocation}`,subtitle:`${e.date} • ${e.items.length} items`,type:"transfer",href:"/dashboard/transfers",badge:e.status})}),d.forEach((e,a)=>{(e.location.toLowerCase().includes(t)||e.id.toLowerCase().includes(t))&&r.push({id:`adjustment-${e.id}-${n}-${a}`,title:`Adjustment at ${e.location}`,subtitle:`${e.date} • ${e.items.length} items`,type:"adjustment",href:"/dashboard/adjustments",badge:e.reason})}),u.forEach((a,o)=>{let l=e.find(e=>e.id===a.productId);(l?.name.toLowerCase().includes(t)||a.notes.toLowerCase().includes(t)||a.referenceId.toLowerCase().includes(t))&&r.push({id:`history-${a.id}-${n}-${o}`,title:`${l?.name||"Unknown Product"} - ${a.type}`,subtitle:`${a.date} • ${a.quantity>0?"+":""}${a.quantity} • ${a.notes}`,type:"history",href:"/dashboard/history",badge:a.type})}),v(r.slice(0,20))},[p,e,a,o,s,d,u]),(0,t.jsxs)(eh.Popover,{open:c,onOpenChange:f,children:[(0,t.jsx)(eh.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(k.Button,{variant:"outline",className:"w-full md:w-80 justify-start gap-2 text-muted-foreground",children:[(0,t.jsx)(ev.Search,{className:"w-4 h-4"}),"Search everything...",(0,t.jsxs)("kbd",{className:"ml-auto pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-xs font-medium text-muted-foreground opacity-100",children:[(0,t.jsx)("span",{className:"text-xs",children:"⌘"}),"K"]})]})}),(0,t.jsx)(eh.PopoverContent,{className:"w-80 p-0",align:"start",children:(0,t.jsxs)(ed,{children:[(0,t.jsx)(eu,{placeholder:"Search products, operations, history...",value:p,onValueChange:m}),(0,t.jsxs)(ec,{children:[0===h.length&&p.length>=2&&(0,t.jsx)(ef,{children:"No results found."}),h.length>0&&(0,t.jsx)(ep,{heading:"Results",children:h.map((e,r)=>(0,t.jsx)(em,{asChild:!0,children:(0,t.jsxs)(n.default,{href:e.href,className:"flex items-center gap-3 p-2 w-full",onClick:()=>f(!1),children:[(0,t.jsx)("div",{className:`p-1.5 rounded ${(e=>{switch(e){case"product":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"receipt":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"delivery":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300";case"transfer":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300";case"adjustment":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}})(e.type)}`,children:(e=>{switch(e){case"product":return(0,t.jsx)(l.Package,{className:"w-4 h-4"});case"receipt":return(0,t.jsx)(eg.FileText,{className:"w-4 h-4"});case"delivery":return(0,t.jsx)(ex,{className:"w-4 h-4"});case"transfer":return(0,t.jsx)(ew,{className:"w-4 h-4"});case"adjustment":return(0,t.jsx)(i.Settings,{className:"w-4 h-4"});case"history":return(0,t.jsx)(g,{className:"w-4 h-4"});default:return(0,t.jsx)(ev.Search,{className:"w-4 h-4"})}})(e.type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-foreground truncate",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.subtitle})]}),e.badge&&(0,t.jsx)(C.Badge,{variant:"secondary",className:"text-xs",children:e.badge})]})},e.id))})]})]})})]})}var ey=e.i(81140),ej=e.i(20783),ek=e.i(30030),eC=e.i(69340),eE=e.i(75830),eR=e.i(86318),eM=e.i(26330),eS=e.i(3536),eN=e.i(65491),eP=e.i(53660),eD=e.i(74606),eI=e.i(96626),e_=e.i(30207),eA="rovingFocusGroup.onEntryFocus",eL={bubbles:!1,cancelable:!0},e$="RovingFocusGroup",[eT,eF,eH]=(0,eE.createCollection)(e$),[eO,eK]=(0,ek.createContextScope)(e$,[eH]),[ez,eU]=eO(e$),eG=r.forwardRef((e,r)=>(0,t.jsx)(eT.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(eT.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(eV,{...e,ref:r})})}));eG.displayName=e$;var eV=r.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:a,orientation:o,loop:l=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:f=!1,...p}=e,m=r.useRef(null),h=(0,ej.useComposedRefs)(n,m),v=(0,eR.useDirection)(s),[g=null,x]=(0,eC.useControllableState)({prop:i,defaultProp:d,onChange:u}),[w,b]=r.useState(!1),y=(0,e_.useCallbackRef)(c),j=eF(a),k=r.useRef(!1),[C,E]=r.useState(0);return r.useEffect(()=>{let e=m.current;if(e)return e.addEventListener(eA,y),()=>e.removeEventListener(eA,y)},[y]),(0,t.jsx)(ez,{scope:a,orientation:o,dir:v,loop:l,currentTabStopId:g,onItemFocus:r.useCallback(e=>x(e),[x]),onItemShiftTab:r.useCallback(()=>b(!0),[]),onFocusableItemAdd:r.useCallback(()=>E(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>E(e=>e-1),[]),children:(0,t.jsx)(D.Primitive.div,{tabIndex:w||0===C?-1:0,"data-orientation":o,...p,ref:h,style:{outline:"none",...e.style},onMouseDown:(0,ey.composeEventHandlers)(e.onMouseDown,()=>{k.current=!0}),onFocus:(0,ey.composeEventHandlers)(e.onFocus,e=>{let t=!k.current;if(e.target===e.currentTarget&&t&&!w){let t=new CustomEvent(eA,eL);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=j().filter(e=>e.focusable);eW([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),f)}}k.current=!1}),onBlur:(0,ey.composeEventHandlers)(e.onBlur,()=>b(!1))})})}),eq="RovingFocusGroupItem",eB=r.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:a,focusable:o=!0,active:l=!1,tabStopId:s,...i}=e,d=(0,I.useId)(),u=s||d,c=eU(eq,a),f=c.currentTabStopId===u,p=eF(a),{onFocusableItemAdd:m,onFocusableItemRemove:h}=c;return r.useEffect(()=>{if(o)return m(),()=>h()},[o,m,h]),(0,t.jsx)(eT.ItemSlot,{scope:a,id:u,focusable:o,active:l,children:(0,t.jsx)(D.Primitive.span,{tabIndex:f?0:-1,"data-orientation":c.orientation,...i,ref:n,onMouseDown:(0,ey.composeEventHandlers)(e.onMouseDown,e=>{o?c.onItemFocus(u):e.preventDefault()}),onFocus:(0,ey.composeEventHandlers)(e.onFocus,()=>c.onItemFocus(u)),onKeyDown:(0,ey.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void c.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let a=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(a))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)))return eX[a]}(e,c.orientation,c.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=p().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){var r,n;"prev"===t&&a.reverse();let o=a.indexOf(e.currentTarget);a=c.loop?(r=a,n=o+1,r.map((e,t)=>r[(n+t)%r.length])):a.slice(o+1)}setTimeout(()=>eW(a))}})})})});eB.displayName=eq;var eX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eW(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}var eY=e.i(91918),eZ=e.i(86312),eJ=e.i(85369),eQ=["Enter"," "],e0=["ArrowUp","PageDown","End"],e1=["ArrowDown","PageUp","Home",...e0],e2={ltr:[...eQ,"ArrowRight"],rtl:[...eQ,"ArrowLeft"]},e4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},e3="Menu",[e5,e9,e8]=(0,eE.createCollection)(e3),[e6,e7]=(0,ek.createContextScope)(e3,[e8,eP.createPopperScope,eK]),te=(0,eP.createPopperScope)(),tt=eK(),[tr,tn]=e6(e3),[ta,to]=e6(e3),tl=e=>{let{__scopeMenu:n,open:a=!1,children:o,dir:l,onOpenChange:s,modal:i=!0}=e,d=te(n),[u,c]=r.useState(null),f=r.useRef(!1),p=(0,e_.useCallbackRef)(s),m=(0,eR.useDirection)(l);return r.useEffect(()=>{let e=()=>{f.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>f.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,t.jsx)(eP.Root,{...d,children:(0,t.jsx)(tr,{scope:n,open:a,onOpenChange:p,content:u,onContentChange:c,children:(0,t.jsx)(ta,{scope:n,onClose:r.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:m,modal:i,children:o})})})};tl.displayName=e3;var ts=r.forwardRef((e,r)=>{let{__scopeMenu:n,...a}=e,o=te(n);return(0,t.jsx)(eP.Anchor,{...o,...a,ref:r})});ts.displayName="MenuAnchor";var ti="MenuPortal",[td,tu]=e6(ti,{forceMount:void 0}),tc=e=>{let{__scopeMenu:r,forceMount:n,children:a,container:o}=e,l=tn(ti,r);return(0,t.jsx)(td,{scope:r,forceMount:n,children:(0,t.jsx)(eI.Presence,{present:n||l.open,children:(0,t.jsx)(eD.Portal,{asChild:!0,container:o,children:a})})})};tc.displayName=ti;var tf="MenuContent",[tp,tm]=e6(tf),th=r.forwardRef((e,r)=>{let n=tu(tf,e.__scopeMenu),{forceMount:a=n.forceMount,...o}=e,l=tn(tf,e.__scopeMenu),s=to(tf,e.__scopeMenu);return(0,t.jsx)(e5.Provider,{scope:e.__scopeMenu,children:(0,t.jsx)(eI.Presence,{present:a||l.open,children:(0,t.jsx)(e5.Slot,{scope:e.__scopeMenu,children:s.modal?(0,t.jsx)(tv,{...o,ref:r}):(0,t.jsx)(tg,{...o,ref:r})})})})}),tv=r.forwardRef((e,n)=>{let a=tn(tf,e.__scopeMenu),o=r.useRef(null),l=(0,ej.useComposedRefs)(n,o);return r.useEffect(()=>{let e=o.current;if(e)return(0,eZ.hideOthers)(e)},[]),(0,t.jsx)(tx,{...e,ref:l,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:(0,ey.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),tg=r.forwardRef((e,r)=>{let n=tn(tf,e.__scopeMenu);return(0,t.jsx)(tx,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),tx=r.forwardRef((e,n)=>{let{__scopeMenu:a,loop:o=!1,trapFocus:l,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:d,onEntryFocus:u,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:h,disableOutsideScroll:v,...g}=e,x=tn(tf,a),w=to(tf,a),b=te(a),y=tt(a),j=e9(a),[k,C]=r.useState(null),E=r.useRef(null),R=(0,ej.useComposedRefs)(n,E,x.onContentChange),M=r.useRef(0),S=r.useRef(""),N=r.useRef(0),P=r.useRef(null),D=r.useRef("right"),I=r.useRef(0),_=v?eJ.RemoveScroll:r.Fragment,A=v?{as:eY.Slot,allowPinchZoom:!0}:void 0;r.useEffect(()=>()=>window.clearTimeout(M.current),[]),(0,eS.useFocusGuards)();let L=r.useCallback(e=>{var t,r;return D.current===P.current?.side&&(t=e,!!(r=P.current?.area)&&function(e,t){let{x:r,y:n}=e,a=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){let l=t[e].x,s=t[e].y,i=t[o].x,d=t[o].y;s>n!=d>n&&r<(i-l)*(n-s)/(d-s)+l&&(a=!a)}return a}({x:t.clientX,y:t.clientY},r))},[]);return(0,t.jsx)(tp,{scope:a,searchRef:S,onItemEnter:r.useCallback(e=>{L(e)&&e.preventDefault()},[L]),onItemLeave:r.useCallback(e=>{L(e)||(E.current?.focus(),C(null))},[L]),onTriggerLeave:r.useCallback(e=>{L(e)&&e.preventDefault()},[L]),pointerGraceTimerRef:N,onPointerGraceIntentChange:r.useCallback(e=>{P.current=e},[]),children:(0,t.jsx)(_,{...A,children:(0,t.jsx)(eN.FocusScope,{asChild:!0,trapped:l,onMountAutoFocus:(0,ey.composeEventHandlers)(s,e=>{e.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:(0,t.jsx)(eM.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:h,children:(0,t.jsx)(eG,{asChild:!0,...y,dir:w.dir,orientation:"vertical",loop:o,currentTabStopId:k,onCurrentTabStopIdChange:C,onEntryFocus:(0,ey.composeEventHandlers)(u,e=>{w.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,t.jsx)(eP.Content,{role:"menu","aria-orientation":"vertical","data-state":tG(x.open),"data-radix-menu-content":"",dir:w.dir,...b,...g,ref:R,style:{outline:"none",...g.style},onKeyDown:(0,ey.composeEventHandlers)(g.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;if(t){var a;let t,o,l,s,i,d;"Tab"===e.key&&e.preventDefault(),!r&&n&&(a=e.key,t=S.current+a,o=j().filter(e=>!e.disabled),l=document.activeElement,s=o.find(e=>e.ref.current===l)?.textValue,i=function(e,t,r){var n;let a=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=r?e.indexOf(r):-1,l=(n=Math.max(o,0),e.map((t,r)=>e[(n+r)%e.length]));1===a.length&&(l=l.filter(e=>e!==r));let s=l.find(e=>e.toLowerCase().startsWith(a.toLowerCase()));return s!==r?s:void 0}(o.map(e=>e.textValue),t,s),d=o.find(e=>e.textValue===i)?.ref.current,function e(t){S.current=t,window.clearTimeout(M.current),""!==t&&(M.current=window.setTimeout(()=>e(""),1e3))}(t),d&&setTimeout(()=>d.focus()))}let o=E.current;if(e.target!==o||!e1.includes(e.key))return;e.preventDefault();let l=j().filter(e=>!e.disabled).map(e=>e.ref.current);e0.includes(e.key)&&l.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(l)}),onBlur:(0,ey.composeEventHandlers)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(M.current),S.current="")}),onPointerMove:(0,ey.composeEventHandlers)(e.onPointerMove,tB(e=>{let t=e.target,r=I.current!==e.clientX;e.currentTarget.contains(t)&&r&&(D.current=e.clientX>I.current?"right":"left",I.current=e.clientX)}))})})})})})})});th.displayName=tf;var tw=r.forwardRef((e,r)=>{let{__scopeMenu:n,...a}=e;return(0,t.jsx)(D.Primitive.div,{role:"group",...a,ref:r})});tw.displayName="MenuGroup";var tb=r.forwardRef((e,r)=>{let{__scopeMenu:n,...a}=e;return(0,t.jsx)(D.Primitive.div,{...a,ref:r})});tb.displayName="MenuLabel";var ty="MenuItem",tj="menu.itemSelect",tk=r.forwardRef((e,n)=>{let{disabled:a=!1,onSelect:o,...l}=e,s=r.useRef(null),i=to(ty,e.__scopeMenu),d=tm(ty,e.__scopeMenu),u=(0,ej.useComposedRefs)(n,s),c=r.useRef(!1);return(0,t.jsx)(tC,{...l,ref:u,disabled:a,onClick:(0,ey.composeEventHandlers)(e.onClick,()=>{let e=s.current;if(!a&&e){let t=new CustomEvent(tj,{bubbles:!0,cancelable:!0});e.addEventListener(tj,e=>o?.(e),{once:!0}),(0,D.dispatchDiscreteCustomEvent)(e,t),t.defaultPrevented?c.current=!1:i.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),c.current=!0},onPointerUp:(0,ey.composeEventHandlers)(e.onPointerUp,e=>{c.current||e.currentTarget?.click()}),onKeyDown:(0,ey.composeEventHandlers)(e.onKeyDown,e=>{let t=""!==d.searchRef.current;a||t&&" "===e.key||eQ.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});tk.displayName=ty;var tC=r.forwardRef((e,n)=>{let{__scopeMenu:a,disabled:o=!1,textValue:l,...s}=e,i=tm(ty,a),d=tt(a),u=r.useRef(null),c=(0,ej.useComposedRefs)(n,u),[f,p]=r.useState(!1),[m,h]=r.useState("");return r.useEffect(()=>{let e=u.current;e&&h((e.textContent??"").trim())},[s.children]),(0,t.jsx)(e5.ItemSlot,{scope:a,disabled:o,textValue:l??m,children:(0,t.jsx)(eB,{asChild:!0,...d,focusable:!o,children:(0,t.jsx)(D.Primitive.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...s,ref:c,onPointerMove:(0,ey.composeEventHandlers)(e.onPointerMove,tB(e=>{o?i.onItemLeave(e):(i.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,ey.composeEventHandlers)(e.onPointerLeave,tB(e=>i.onItemLeave(e))),onFocus:(0,ey.composeEventHandlers)(e.onFocus,()=>p(!0)),onBlur:(0,ey.composeEventHandlers)(e.onBlur,()=>p(!1))})})})}),tE=r.forwardRef((e,r)=>{let{checked:n=!1,onCheckedChange:a,...o}=e;return(0,t.jsx)(t_,{scope:e.__scopeMenu,checked:n,children:(0,t.jsx)(tk,{role:"menuitemcheckbox","aria-checked":tV(n)?"mixed":n,...o,ref:r,"data-state":tq(n),onSelect:(0,ey.composeEventHandlers)(o.onSelect,()=>a?.(!!tV(n)||!n),{checkForDefaultPrevented:!1})})})});tE.displayName="MenuCheckboxItem";var tR="MenuRadioGroup",[tM,tS]=e6(tR,{value:void 0,onValueChange:()=>{}}),tN=r.forwardRef((e,r)=>{let{value:n,onValueChange:a,...o}=e,l=(0,e_.useCallbackRef)(a);return(0,t.jsx)(tM,{scope:e.__scopeMenu,value:n,onValueChange:l,children:(0,t.jsx)(tw,{...o,ref:r})})});tN.displayName=tR;var tP="MenuRadioItem",tD=r.forwardRef((e,r)=>{let{value:n,...a}=e,o=tS(tP,e.__scopeMenu),l=n===o.value;return(0,t.jsx)(t_,{scope:e.__scopeMenu,checked:l,children:(0,t.jsx)(tk,{role:"menuitemradio","aria-checked":l,...a,ref:r,"data-state":tq(l),onSelect:(0,ey.composeEventHandlers)(a.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});tD.displayName=tP;var tI="MenuItemIndicator",[t_,tA]=e6(tI,{checked:!1}),tL=r.forwardRef((e,r)=>{let{__scopeMenu:n,forceMount:a,...o}=e,l=tA(tI,n);return(0,t.jsx)(eI.Presence,{present:a||tV(l.checked)||!0===l.checked,children:(0,t.jsx)(D.Primitive.span,{...o,ref:r,"data-state":tq(l.checked)})})});tL.displayName=tI;var t$=r.forwardRef((e,r)=>{let{__scopeMenu:n,...a}=e;return(0,t.jsx)(D.Primitive.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});t$.displayName="MenuSeparator";var tT=r.forwardRef((e,r)=>{let{__scopeMenu:n,...a}=e,o=te(n);return(0,t.jsx)(eP.Arrow,{...o,...a,ref:r})});tT.displayName="MenuArrow";var[tF,tH]=e6("MenuSub"),tO="MenuSubTrigger",tK=r.forwardRef((e,n)=>{let a=tn(tO,e.__scopeMenu),o=to(tO,e.__scopeMenu),l=tH(tO,e.__scopeMenu),s=tm(tO,e.__scopeMenu),i=r.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:u}=s,c={__scopeMenu:e.__scopeMenu},f=r.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return r.useEffect(()=>f,[f]),r.useEffect(()=>{let e=d.current;return()=>{window.clearTimeout(e),u(null)}},[d,u]),(0,t.jsx)(ts,{asChild:!0,...c,children:(0,t.jsx)(tC,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":l.contentId,"data-state":tG(a.open),...e,ref:(0,ej.composeRefs)(n,l.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:(0,ey.composeEventHandlers)(e.onPointerMove,tB(t=>{s.onItemEnter(t),!t.defaultPrevented&&(e.disabled||a.open||i.current||(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{a.onOpenChange(!0),f()},100)))})),onPointerLeave:(0,ey.composeEventHandlers)(e.onPointerLeave,tB(e=>{f();let t=a.content?.getBoundingClientRect();if(t){let r=a.content?.dataset.side,n="right"===r,o=t[n?"left":"right"],l=t[n?"right":"left"];s.onPointerGraceIntentChange({area:[{x:e.clientX+(n?-5:5),y:e.clientY},{x:o,y:t.top},{x:l,y:t.top},{x:l,y:t.bottom},{x:o,y:t.bottom}],side:r}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(e),e.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:(0,ey.composeEventHandlers)(e.onKeyDown,t=>{let r=""!==s.searchRef.current;e.disabled||r&&" "===t.key||e2[o.dir].includes(t.key)&&(a.onOpenChange(!0),a.content?.focus(),t.preventDefault())})})})});tK.displayName=tO;var tz="MenuSubContent",tU=r.forwardRef((e,n)=>{let a=tu(tf,e.__scopeMenu),{forceMount:o=a.forceMount,...l}=e,s=tn(tf,e.__scopeMenu),i=to(tf,e.__scopeMenu),d=tH(tz,e.__scopeMenu),u=r.useRef(null),c=(0,ej.useComposedRefs)(n,u);return(0,t.jsx)(e5.Provider,{scope:e.__scopeMenu,children:(0,t.jsx)(eI.Presence,{present:o||s.open,children:(0,t.jsx)(e5.Slot,{scope:e.__scopeMenu,children:(0,t.jsx)(tx,{id:d.contentId,"aria-labelledby":d.triggerId,...l,ref:c,align:"start",side:"rtl"===i.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{i.isUsingKeyboardRef.current&&u.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,ey.composeEventHandlers)(e.onFocusOutside,e=>{e.target!==d.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:(0,ey.composeEventHandlers)(e.onEscapeKeyDown,e=>{i.onClose(),e.preventDefault()}),onKeyDown:(0,ey.composeEventHandlers)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=e4[i.dir].includes(e.key);t&&r&&(s.onOpenChange(!1),d.trigger?.focus(),e.preventDefault())})})})})})});function tG(e){return e?"open":"closed"}function tV(e){return"indeterminate"===e}function tq(e){return tV(e)?"indeterminate":e?"checked":"unchecked"}function tB(e){return t=>"mouse"===t.pointerType?e(t):void 0}tU.displayName=tz;var tX="DropdownMenu",[tW,tY]=(0,ek.createContextScope)(tX,[e7]),tZ=e7(),[tJ,tQ]=tW(tX),t0=e=>{let{__scopeDropdownMenu:n,children:a,dir:o,open:l,defaultOpen:s,onOpenChange:i,modal:d=!0}=e,u=tZ(n),c=r.useRef(null),[f=!1,p]=(0,eC.useControllableState)({prop:l,defaultProp:s,onChange:i});return(0,t.jsx)(tJ,{scope:n,triggerId:(0,I.useId)(),triggerRef:c,contentId:(0,I.useId)(),open:f,onOpenChange:p,onOpenToggle:r.useCallback(()=>p(e=>!e),[p]),modal:d,children:(0,t.jsx)(tl,{...u,open:f,onOpenChange:p,dir:o,modal:d,children:a})})};t0.displayName=tX;var t1="DropdownMenuTrigger",t2=r.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,disabled:a=!1,...o}=e,l=tQ(t1,n),s=tZ(n);return(0,t.jsx)(ts,{asChild:!0,...s,children:(0,t.jsx)(D.Primitive.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...o,ref:(0,ej.composeRefs)(r,l.triggerRef),onPointerDown:(0,ey.composeEventHandlers)(e.onPointerDown,e=>{!a&&0===e.button&&!1===e.ctrlKey&&(l.onOpenToggle(),l.open||e.preventDefault())}),onKeyDown:(0,ey.composeEventHandlers)(e.onKeyDown,e=>{!a&&(["Enter"," "].includes(e.key)&&l.onOpenToggle(),"ArrowDown"===e.key&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});t2.displayName=t1;var t4=e=>{let{__scopeDropdownMenu:r,...n}=e,a=tZ(r);return(0,t.jsx)(tc,{...a,...n})};t4.displayName="DropdownMenuPortal";var t3="DropdownMenuContent",t5=r.forwardRef((e,n)=>{let{__scopeDropdownMenu:a,...o}=e,l=tQ(t3,a),s=tZ(a),i=r.useRef(!1);return(0,t.jsx)(th,{id:l.contentId,"aria-labelledby":l.triggerId,...s,...o,ref:n,onCloseAutoFocus:(0,ey.composeEventHandlers)(e.onCloseAutoFocus,e=>{i.current||l.triggerRef.current?.focus(),i.current=!1,e.preventDefault()}),onInteractOutside:(0,ey.composeEventHandlers)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;(!l.modal||n)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});t5.displayName=t3,r.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,o=tZ(n);return(0,t.jsx)(tw,{...o,...a,ref:r})}).displayName="DropdownMenuGroup",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,o=tZ(n);return(0,t.jsx)(tb,{...o,...a,ref:r})}).displayName="DropdownMenuLabel";var t9=r.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,o=tZ(n);return(0,t.jsx)(tk,{...o,...a,ref:r})});t9.displayName="DropdownMenuItem",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,o=tZ(n);return(0,t.jsx)(tE,{...o,...a,ref:r})}).displayName="DropdownMenuCheckboxItem",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,o=tZ(n);return(0,t.jsx)(tN,{...o,...a,ref:r})}).displayName="DropdownMenuRadioGroup",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,o=tZ(n);return(0,t.jsx)(tD,{...o,...a,ref:r})}).displayName="DropdownMenuRadioItem",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,o=tZ(n);return(0,t.jsx)(tL,{...o,...a,ref:r})}).displayName="DropdownMenuItemIndicator";var t8=r.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,o=tZ(n);return(0,t.jsx)(t$,{...o,...a,ref:r})});function t6({...e}){return(0,t.jsx)(t0,{"data-slot":"dropdown-menu",...e})}function t7({...e}){return(0,t.jsx)(t2,{"data-slot":"dropdown-menu-trigger",...e})}function re({className:e,sideOffset:r=4,...n}){return(0,t.jsx)(t4,{children:(0,t.jsx)(t5,{"data-slot":"dropdown-menu-content",sideOffset:r,className:(0,ei.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function rt({className:e,inset:r,variant:n="default",...a}){return(0,t.jsx)(t9,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":n,className:(0,ei.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function rr({className:e,...r}){return(0,t.jsx)(t8,{"data-slot":"dropdown-menu-separator",className:(0,ei.cn)("bg-border -mx-1 my-1 h-px",e),...r})}function rn({children:e}){let[d,w]=(0,r.useState)(!0),b=(0,a.usePathname)(),j=(0,a.useRouter)(),{user:k,logout:C}=(0,o.useAuth)(),E=[{name:"Dashboard",href:"/dashboard",icon:p},{name:"Products",href:"/dashboard/products",icon:l.Package},{name:"Receipts",href:"/dashboard/receipts",icon:m.ShoppingCart},{name:"Deliveries",href:"/dashboard/deliveries",icon:h.TrendingDown},{name:"Transfers",href:"/dashboard/transfers",icon:v.Repeat2},{name:"Adjustments",href:"/dashboard/adjustments",icon:s.ArrowDownUp},{name:"History",href:"/dashboard/history",icon:g}];return(0,t.jsxs)("div",{className:"flex h-screen bg-background text-foreground",children:[(0,t.jsxs)("div",{className:`${d?"w-64":"w-20"} border-r border-border transition-all duration-300 bg-background/50 backdrop-blur-sm fixed h-screen left-0 top-0 z-40 flex flex-col`,children:[(0,t.jsx)("div",{className:"h-16 border-b border-border flex items-center justify-between px-4",children:(0,t.jsxs)(n.default,{href:"/dashboard",className:`flex items-center gap-2 ${!d&&"justify-center w-full"}`,children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-accent rounded-lg flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(l.Package,{className:"w-5 h-5 text-accent-foreground"})}),d&&(0,t.jsx)("span",{className:"font-bold text-sm truncate",children:"StockMaster"})]})}),(0,t.jsx)("nav",{className:"flex-1 overflow-y-auto px-2 py-4 space-y-2",children:E.map(e=>{let r=e.icon,a=b===e.href;return(0,t.jsx)(n.default,{href:e.href,children:(0,t.jsxs)("button",{className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors ${a?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-secondary"}`,children:[(0,t.jsx)(r,{className:"w-5 h-5 flex-shrink-0"}),d&&(0,t.jsx)("span",{className:"text-sm truncate",children:e.name})]})},e.href)})}),(0,t.jsx)("div",{className:"border-t border-border p-4 space-y-2",children:(0,t.jsx)(n.default,{href:"/dashboard/settings",children:(0,t.jsxs)("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary transition-colors",children:[(0,t.jsx)(i.Settings,{className:"w-5 h-5 flex-shrink-0"}),d&&(0,t.jsx)("span",{className:"text-sm",children:"Settings"})]})})}),(0,t.jsx)("button",{onClick:()=>w(!d),className:"hidden lg:flex w-full border-t border-border h-12 items-center justify-center hover:bg-secondary transition-colors",children:d?(0,t.jsx)(f.X,{className:"w-5 h-5"}):(0,t.jsx)(c,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:`${d?"ml-64":"ml-20"} flex-1 flex flex-col transition-all duration-300`,children:[(0,t.jsxs)("div",{className:"h-16 border-b border-border bg-background/50 backdrop-blur-sm flex items-center justify-between px-8 sticky top-0 z-30",children:[(0,t.jsx)("button",{onClick:()=>w(!d),className:"lg:hidden p-2 hover:bg-secondary rounded-lg transition-colors",children:d?(0,t.jsx)(f.X,{className:"w-5 h-5"}):(0,t.jsx)(c,{className:"w-5 h-5"})}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center max-w-md mx-4",children:(0,t.jsx)(eb,{})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(y,{}),(0,t.jsxs)(t6,{children:[(0,t.jsx)(t7,{asChild:!0,children:(0,t.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 bg-secondary rounded-lg hover:bg-secondary/80 transition-colors",children:[(0,t.jsx)(x.User,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium truncate max-w-[100px]",children:k?.name||"User"})]})}),(0,t.jsxs)(re,{align:"end",children:[(0,t.jsx)(rt,{disabled:!0,children:(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:k?.email})}),(0,t.jsx)(rr,{}),(0,t.jsxs)(rt,{onClick:()=>{C(),j.push("/")},children:[(0,t.jsx)(u,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})]}),(0,t.jsx)("main",{className:"flex-1 overflow-auto",children:(0,t.jsx)("div",{className:"p-8",children:e})})]})]})}t8.displayName="DropdownMenuSeparator",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,o=tZ(n);return(0,t.jsx)(tT,{...o,...a,ref:r})}).displayName="DropdownMenuArrow",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,o=tZ(n);return(0,t.jsx)(tK,{...o,...a,ref:r})}).displayName="DropdownMenuSubTrigger",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...a}=e,o=tZ(n);return(0,t.jsx)(tU,{...o,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent",e.i(78784),e.i(33565),(0,d.default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),e.s(["default",()=>rn],82391)}]);