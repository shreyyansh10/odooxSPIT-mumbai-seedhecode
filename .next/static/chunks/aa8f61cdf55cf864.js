(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73866,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let o="inventory_store",a={user:null,products:[{id:"1",name:"Steel Rods",sku:"SR-001",category:"Raw Materials",uom:"kg",stock:450,locationStock:{"main-warehouse":300,"warehouse-2":100,"production-floor":50},reorderLevel:100},{id:"2",name:"Aluminum Sheets",sku:"AS-002",category:"Raw Materials",uom:"sheet",stock:120,locationStock:{"main-warehouse":80,"warehouse-2":40},reorderLevel:50},{id:"3",name:"Plastic Frames",sku:"PF-003",category:"Components",uom:"piece",stock:8,locationStock:{"production-floor":8},reorderLevel:20},{id:"4",name:"Rubber Seals",sku:"RS-004",category:"Components",uom:"piece",stock:0,locationStock:{},reorderLevel:25},{id:"5",name:"Copper Wire",sku:"CW-005",category:"Raw Materials",uom:"kg",stock:320,locationStock:{"main-warehouse":200,"production-floor":120},reorderLevel:75}],warehouses:[{id:"main-warehouse",name:"Main Warehouse",locations:["main-warehouse","warehouse-2"]},{id:"production-floor",name:"Production Floor",locations:["production-floor"]}],locations:[{id:"main-warehouse",name:"Main Warehouse",type:"Storage",capacity:1e3,currentUsage:450},{id:"warehouse-2",name:"Warehouse 2",type:"Storage",capacity:500,currentUsage:120},{id:"production-floor",name:"Production Floor",type:"Production",capacity:300,currentUsage:200}],receipts:[],deliveries:[],transfers:[],adjustments:[],ledger:[]},s={getStore:()=>{try{let e=localStorage.getItem(o);return e?JSON.parse(e):a}catch{return a}},setStore:e=>{try{let t=JSON.parse(JSON.stringify(e));localStorage.setItem(o,JSON.stringify(t))}catch{console.error("Failed to save store")}},updateUser:e=>{let t=s.getStore();t.user=e,s.setStore(t)},addProduct:e=>{let t=s.getStore(),r={...e,id:Date.now().toString(),locationStock:{"main-warehouse":e.stock||0,...e.locationStock}};return t.products.push(r),s.setStore(t),r},updateProduct:(e,t)=>{let r=s.getStore(),o=r.products.find(t=>t.id===e);o&&(Object.assign(o,t),s.setStore(r))},deleteProduct:e=>{let t=s.getStore();t.products=t.products.filter(t=>t.id!==e),s.setStore(t)},addReceipt:e=>{let t=s.getStore(),r={...e,id:Date.now().toString()};return t.receipts.push(r),s.setStore(t),r},updateReceipt:(e,t)=>{let r=s.getStore(),o=r.receipts.find(t=>t.id===e);o&&(Object.assign(o,t),s.setStore(r))},addDelivery:e=>{let t=s.getStore(),r={...e,id:Date.now().toString()};return t.deliveries.push(r),s.setStore(t),r},updateDelivery:(e,t)=>{let r=s.getStore(),o=r.deliveries.find(t=>t.id===e);o&&(Object.assign(o,t),s.setStore(r))},addTransfer:e=>{let t=s.getStore(),r={...e,id:Date.now().toString()};return t.transfers.push(r),s.setStore(t),r},updateTransfer:(e,t)=>{let r=s.getStore(),o=r.transfers.find(t=>t.id===e);o&&(Object.assign(o,t),s.setStore(r))},addAdjustment:e=>{let t=s.getStore(),r={...e,id:Date.now().toString()};return t.adjustments.push(r),s.setStore(t),r},addLedgerEntry:e=>{let t=s.getStore(),r={...e,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`};t.ledger.push(r),s.setStore(t)},updateLocationStock:(e,t,r,o)=>{let a=s.getStore(),n=a.products.findIndex(t=>t.id===e);if(-1===n)return;let i={...a.products[n]};i.locationStock||(i.locationStock={"main-warehouse":i.stock||0}),i.locationStock={...i.locationStock};let l=i.locationStock[t]||0;switch(o){case"add":i.locationStock[t]=l+r;break;case"subtract":let c=Math.max(0,l-r);i.locationStock[t]=c;break;case"set":i.locationStock[t]=r}i.stock=Object.values(i.locationStock).reduce((e,t)=>e+t,0),a.products[n]=i,s.setStore(a)},getLocationStock:(e,t)=>{let r=s.getStore().products.find(t=>t.id===e);return r?.locationStock[t]||0},getLowStockProducts:()=>s.getStore().products.filter(e=>e.reorderLevel&&e.stock<=e.reorderLevel),getLocationStockSummary:e=>s.getStore().products.map(t=>({productId:t.id,productName:t.name,sku:t.sku,stock:t.locationStock[e]||0,uom:t.uom})).filter(e=>e.stock>0),migrateProductLocationStock:()=>{let e=s.getStore(),t=!1;e.products.forEach(e=>{e.locationStock&&0!==Object.keys(e.locationStock).length||(e.locationStock={"main-warehouse":e.stock||0},t=!0)}),t&&s.setStore(e)},getOperationStats:()=>{let e=s.getStore();return{totalProducts:e.products.length,lowStockItems:e.products.filter(e=>e.stock<20).length,outOfStockItems:e.products.filter(e=>0===e.stock).length,pendingReceipts:e.receipts.filter(e=>"Waiting"===e.status||"Draft"===e.status).length,pendingDeliveries:e.deliveries.filter(e=>"Waiting"===e.status||"Draft"===e.status).length,scheduledTransfers:e.transfers.filter(e=>"Waiting"===e.status||"Draft"===e.status).length}}},n=(0,r.createContext)(void 0);function i({children:e}){let[o,a]=(0,r.useState)(null),[i,l]=(0,r.useState)(0),c=(0,r.useCallback)(()=>{let e=s.getStore();a({...e,products:e.products.map(e=>({...e,locationStock:{...e.locationStock}})),deliveries:[...e.deliveries],receipts:[...e.receipts],transfers:[...e.transfers],adjustments:[...e.adjustments],ledger:[...e.ledger]}),l(e=>e+1)},[]);(0,r.useEffect)(()=>{s.migrateProductLocationStock(),c()},[c]);let u=(0,r.useCallback)(e=>{s.addProduct(e),c()},[c]),d=(0,r.useCallback)((e,t)=>{s.updateProduct(e,t),c()},[c]),m=(0,r.useCallback)(e=>{s.deleteProduct(e),c()},[c]),f=(0,r.useCallback)(e=>{let t=s.addReceipt(e);return c(),t.id},[c]),h=(0,r.useCallback)((e,t)=>{s.updateReceipt(e,t),c()},[c]),p=(0,r.useCallback)(e=>{let t=s.addDelivery(e);return c(),t.id},[c]),S=(0,r.useCallback)((e,t)=>{s.updateDelivery(e,t),c()},[c]),g=(0,r.useCallback)(e=>{let t=s.addTransfer(e);return c(),t.id},[c]),y=(0,r.useCallback)((e,t)=>{s.updateTransfer(e,t),c()},[c]),k=(0,r.useCallback)(e=>{let t=s.addAdjustment(e);return c(),t.id},[c]),w=(0,r.useCallback)(e=>{s.addLedgerEntry(e),c()},[c]),v=(0,r.useCallback)((e,t,r,o)=>{s.updateLocationStock(e,t,r,o),c()},[c]),b=(0,r.useCallback)(()=>s.getOperationStats(),[]),P={products:o?.products||[],receipts:o?.receipts||[],deliveries:o?.deliveries||[],transfers:o?.transfers||[],adjustments:o?.adjustments||[],ledger:o?.ledger||[],locations:o?.locations||[],addProduct:u,updateProduct:d,deleteProduct:m,addReceipt:f,updateReceipt:h,addDelivery:p,updateDelivery:S,addTransfer:g,updateTransfer:y,addAdjustment:k,addLedgerEntry:w,updateLocationStock:v,getLocationStock:s.getLocationStock,getLowStockProducts:s.getLowStockProducts,getLocationStockSummary:s.getLocationStockSummary,getStats:b,refreshData:c};return(0,t.jsx)(n.Provider,{value:P,children:e})}function l(){let e=(0,r.useContext)(n);if(!e)throw Error("useStore must be used within StoreProvider");return e}e.s(["StoreProvider",()=>i,"useStore",()=>l],73866)},18566,(e,t,r)=>{t.exports=e.r(76562)},61668,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let o="auth_store",a={initializeAuth:()=>{localStorage.getItem(o)||localStorage.setItem(o,JSON.stringify({users:{"demo@example.com":{password:"demo123",name:"Demo User",role:"admin"},"yuganshvthacker@gmail.com":{password:"",name:"Yugansh Thacker",role:"admin"}}}))},getAuthData:()=>{a.initializeAuth();try{let e=localStorage.getItem(o);return e?JSON.parse(e):{users:{},currentUser:null}}catch{return{users:{},currentUser:null}}},saveAuthData:e=>{try{localStorage.setItem(o,JSON.stringify(e))}catch{console.error("Failed to save auth data")}},signup:(e,t,r)=>{let o=a.getAuthData();if(o.users[e])throw Error("Email already registered");return o.users[e]={password:t,name:r,role:"staff"},a.saveAuthData(o),{id:e,email:e,name:r,role:"staff"}},login:(e,t)=>{let r=a.getAuthData(),o=r.users[e];if(!o||o.password!==t)throw Error("Invalid email or password");let s={id:e,email:e,name:o.name,role:o.role};return r.currentUser=s,a.saveAuthData(r),s},logout:()=>{let e=a.getAuthData();e.currentUser=null,a.saveAuthData(e)},getCurrentUser:()=>a.getAuthData().currentUser,requestOTP:async e=>{try{let t=await fetch("/api/auth/request-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to send OTP");return!0}catch(e){throw console.error("OTP request failed:",e),e}},verifyOTP:async(e,t)=>{try{let r=await fetch("/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:t})}),o=await r.json();if(!r.ok)throw Error(o.error||"Failed to verify OTP");return!0}catch(e){throw console.error("OTP verification failed:",e),e}},resetPassword:async(e,t)=>{try{let r=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,newPassword:t})}),o=await r.json();if(!r.ok)throw Error(o.error||"Failed to reset password");return!0}catch(e){throw console.error("Password reset failed:",e),e}}},s=(0,r.createContext)(void 0);function n({children:e}){let[o,n]=(0,r.useState)(null),[i,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null);(0,r.useEffect)(()=>{a.initializeAuth(),n(a.getCurrentUser())},[]);let d=(0,r.useCallback)(async(e,t)=>{l(!0),u(null);try{let r=a.login(e,t);return n(r),r}catch(e){throw u(e.message||"Login failed"),e}finally{l(!1)}},[]),m=(0,r.useCallback)(async(e,t,r)=>{l(!0),u(null);try{let o=a.signup(e,t,r);return n(o),o}catch(e){throw u(e.message||"Signup failed"),e}finally{l(!1)}},[]),f=(0,r.useCallback)(()=>{a.logout(),n(null)},[]),h=(0,r.useCallback)(async e=>{l(!0),u(null);try{await a.requestOTP(e)}catch(e){throw u(e.message||"OTP request failed"),e}finally{l(!1)}},[]),p=(0,r.useCallback)(async(e,t)=>{l(!0),u(null);try{a.verifyOTP(e,t)}catch(e){throw u(e.message||"OTP verification failed"),e}finally{l(!1)}},[]),S=(0,r.useCallback)(async(e,t)=>{l(!0),u(null);try{a.resetPassword(e,t)}catch(e){throw u(e.message||"Password reset failed"),e}finally{l(!1)}},[]);return(0,t.jsx)(s.Provider,{value:{user:o,login:d,signup:m,logout:f,requestOTP:h,verifyOTP:p,resetPassword:S,isLoading:i,error:c},children:e})}function i(){let e=(0,r.useContext)(s);if(!e)throw Error("useAuth must be used within AuthProvider");return e}e.s(["AuthProvider",()=>n,"useAuth",()=>i],61668)},2355,e=>{"use strict";var t=e.i(47167),r=e.i(71645),o=e.i(18566);function a(){return"undefined"!=typeof window}function s(){return"production"}function n(){return"development"===((a()?window.vam:s())||"production")}function i(e){return RegExp(`/${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(?=[/?#]|$)`)}function l(e){return(0,r.useEffect)(()=>{var t;e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),(0,r.useEffect)(()=>{!function(e={debug:!0}){var t;if(!a())return;!function(e="auto"){if("auto"===e){window.vam=s();return}window.vam=e}(e.mode),window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)}),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));let r=e.scriptSrc?e.scriptSrc:n()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${r}"]`))return;let o=document.createElement("script");o.src=r,o.defer=!0,o.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),o.dataset.sdkv="1.5.0",e.disableAutoTrack&&(o.dataset.disableAutoTrack="1"),e.endpoint?o.dataset.endpoint=e.endpoint:e.basePath&&(o.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(o.dataset.dsn=e.dsn),o.onerror=()=>{let e=n()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${e}`)},n()&&!1===e.debug&&(o.dataset.debug="false"),document.head.appendChild(o)}({framework:e.framework||"react",basePath:e.basePath??function(){if(void 0!==t.default&&void 0!==t.default.env)return t.default.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}(),...void 0!==e.route&&{disableAutoTrack:!0},...e})},[]),(0,r.useEffect)(()=>{e.route&&e.path&&function({route:e,path:t}){var r;null==(r=window.va)||r.call(window,"pageview",{route:e,path:t})}({route:e.route,path:e.path})},[e.route,e.path]),null}function c(e){let a,s,n,{route:c,path:u}=(a=(0,o.useParams)(),s=(0,o.useSearchParams)(),n=(0,o.usePathname)(),a?{route:function(e,t){if(!e||!t)return e;let r=e;try{let e=Object.entries(t);for(let[t,o]of e)if(!Array.isArray(o)){let e=i(o);e.test(r)&&(r=r.replace(e,`/[${t}]`))}for(let[t,o]of e)if(Array.isArray(o)){let e=i(o.join("/"));e.test(r)&&(r=r.replace(e,`/[...${t}]`))}return r}catch(t){return e}}(n,Object.keys(a).length?a:Object.fromEntries(s.entries())),path:n}:{route:null,path:n});return r.default.createElement(l,{path:u,route:c,...e,basePath:function(){if(void 0!==t.default&&void 0!==t.default.env)return t.default.env.NEXT_PUBLIC_VERCEL_OBSERVABILITY_BASEPATH}(),framework:"next"})}function u(e){return r.default.createElement(r.Suspense,{fallback:null},r.default.createElement(c,{...e}))}e.s(["Analytics",()=>u])},89554,e=>{"use strict";var t=e.i(43476),r=e.i(71645),o=(e,t,r,o,a,s,n,i)=>{let l=document.documentElement,c=["light","dark"];function u(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,o=r&&s?a.map(e=>s[e]||e):a;r?(l.classList.remove(...o),l.classList.add(s&&s[t]?s[t]:t)):l.setAttribute(e,t)}),r=t,i&&c.includes(r)&&(l.style.colorScheme=r)}if(o)u(o);else try{let e=localStorage.getItem(t)||r,o=n&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(o)}catch(e){}},a=["light","dark"],s="(prefers-color-scheme: dark)",n="undefined"==typeof window,i=r.createContext(void 0),l=e=>r.useContext(i)?r.createElement(r.Fragment,null,e.children):r.createElement(u,{...e}),c=["light","dark"],u=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:o=!0,enableColorScheme:n=!0,storageKey:l="theme",themes:u=c,defaultTheme:p=o?"system":"light",attribute:S="data-theme",value:g,children:y,nonce:k,scriptProps:w})=>{let[v,b]=r.useState(()=>m(l,p)),[P,C]=r.useState(()=>"system"===v?h():v),T=g?Object.values(g):u,A=r.useCallback(e=>{let r=e;if(!r)return;"system"===e&&o&&(r=h());let s=g?g[r]:r,i=t?f(k):null,l=document.documentElement,c=e=>{"class"===e?(l.classList.remove(...T),s&&l.classList.add(s)):e.startsWith("data-")&&(s?l.setAttribute(e,s):l.removeAttribute(e))};if(Array.isArray(S)?S.forEach(c):c(S),n){let e=a.includes(p)?p:null,t=a.includes(r)?r:e;l.style.colorScheme=t}null==i||i()},[k]),E=r.useCallback(e=>{let t="function"==typeof e?e(v):e;b(t);try{localStorage.setItem(l,t)}catch(e){}},[v]),O=r.useCallback(t=>{C(h(t)),"system"===v&&o&&!e&&A("system")},[v,e]);r.useEffect(()=>{let e=window.matchMedia(s);return e.addListener(O),O(e),()=>e.removeListener(O)},[O]),r.useEffect(()=>{let e=e=>{e.key===l&&(e.newValue?b(e.newValue):E(p))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[E]),r.useEffect(()=>{A(null!=e?e:v)},[e,v]);let L=r.useMemo(()=>({theme:v,setTheme:E,forcedTheme:e,resolvedTheme:"system"===v?P:v,themes:o?[...u,"system"]:u,systemTheme:o?P:void 0}),[v,E,e,P,o,u]);return r.createElement(i.Provider,{value:L},r.createElement(d,{forcedTheme:e,storageKey:l,attribute:S,enableSystem:o,enableColorScheme:n,defaultTheme:p,value:g,themes:u,nonce:k,scriptProps:w}),y)},d=r.memo(({forcedTheme:e,storageKey:t,attribute:a,enableSystem:s,enableColorScheme:n,defaultTheme:i,value:l,themes:c,nonce:u,scriptProps:d})=>{let m=JSON.stringify([a,t,i,e,c,l,s,n]).slice(1,-1);return r.createElement("script",{...d,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?u:"",dangerouslySetInnerHTML:{__html:`(${o.toString()})(${m})`}})}),m=(e,t)=>{let r;if(!n){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},f=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},h=e=>(e||(e=window.matchMedia(s)),e.matches?"dark":"light");function p({children:e,...r}){return(0,t.jsx)(l,{attribute:"class",defaultTheme:"dark",enableSystem:!0,storageKey:"theme",disableTransitionOnChange:!0,...r,children:e})}e.s(["ThemeProvider",()=>p],89554)}]);