(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}e.s(["Card",()=>s])},23750,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function s({className:e,type:s,...a}){return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}e.s(["Input",()=>s])},40160,e=>{"use strict";let t=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],40160)},59591,e=>{"use strict";var t=e.i(43476),r=e.i(73866),s=e.i(70065),a=e.i(67881),n=e.i(23750),l=e.i(55436),d=e.i(40160),i=e.i(71645),o=e.i(94179);function c(){let{ledger:e,products:c}=(0,r.useStore)(),[u,x]=(0,i.useState)(""),[p,m]=(0,i.useState)("all"),h=[...e.filter(e=>("all"===p||e.type===p)&&e.date.toLowerCase().includes(u.toLowerCase()))].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()),f={total:e.length,receipts:e.filter(e=>"receipt"===e.type).length,deliveries:e.filter(e=>"delivery"===e.type).length,transfers:e.filter(e=>"transfer"===e.type).length},g=e=>{let t=h,r=`inventory-report-${e}`;if("daily"===e){let e=new Date().toISOString().split("T")[0];t=h.filter(t=>t.date.startsWith(e)),r=`inventory-daily-report-${e}`}else if("monthly"===e){let e=new Date().toISOString().slice(0,7);t=h.filter(t=>t.date.startsWith(e)),r=`inventory-monthly-report-${e}`}let s=new Blob([["Date,Type,Product,Quantity,Reference ID,Notes",...t.map(e=>{let t=c.find(t=>t.id===e.productId);return`${e.date},${e.type},"${t?.name||"Unknown Product"}",${e.quantity},${e.referenceId},"${e.notes}"`})].join("\n")],{type:"text/csv"}),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download=`${r}.csv`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Stock Ledger"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Complete log of all inventory operations and transactions"})]}),(0,t.jsxs)(a.Button,{variant:"outline",className:"gap-2 bg-transparent",onClick:()=>{let e=new Blob([`
INVENTORY MANAGEMENT REPORT
===========================
Generated on: ${new Date().toLocaleString()}

SUMMARY:
--------
Total Transactions: ${f.total}
Receipts: ${f.receipts}
Deliveries: ${f.deliveries}
Transfers: ${f.transfers}

DETAILED LEDGER:
----------------
${h.map(e=>{let t=c.find(t=>t.id===e.productId);return`${e.date} | ${e.type.toUpperCase()} | ${t?.name||"Unknown Product"} | ${e.quantity} | ${e.notes}`}).join("\n")}
    `],{type:"text/plain"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`complete-inventory-report-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)},children:[(0,t.jsx)(d.Download,{className:"w-4 h-4"}),"Export Report"]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,t.jsxs)(s.Card,{className:"p-4 border border-border bg-card/50",children:[(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Total Transactions"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground mt-1",children:f.total})]}),(0,t.jsxs)(s.Card,{className:"p-4 border border-border bg-card/50",children:[(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Receipts"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1",children:f.receipts})]}),(0,t.jsxs)(s.Card,{className:"p-4 border border-border bg-card/50",children:[(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Deliveries"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:f.deliveries})]}),(0,t.jsxs)(s.Card,{className:"p-4 border border-border bg-card/50",children:[(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Transfers"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400 mt-1",children:f.transfers})]})]}),(0,t.jsxs)(s.Card,{className:"p-6 border border-border bg-card/50",children:[(0,t.jsx)("div",{className:"flex flex-col gap-4 mb-6",children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(l.Search,{className:"absolute left-3 top-3 w-5 h-5 text-muted-foreground"}),(0,t.jsx)(n.Input,{placeholder:"Search by date...",value:u,onChange:e=>x(e.target.value),className:"pl-10"})]}),(0,t.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"px-3 py-2 bg-input border border-input rounded-lg text-foreground",children:[(0,t.jsx)("option",{value:"all",children:"All Types"}),(0,t.jsx)("option",{value:"receipt",children:"Receipts"}),(0,t.jsx)("option",{value:"delivery",children:"Deliveries"}),(0,t.jsx)("option",{value:"transfer",children:"Transfers"}),(0,t.jsx)("option",{value:"adjustment",children:"Adjustments"})]})]})}),h.length>0?(0,t.jsx)("div",{className:"space-y-4",children:h.map((e,r)=>{let s=c.find(t=>t.id===e.productId);return(0,t.jsxs)("div",{className:"flex gap-4 pb-4 border-b border-border last:border-0",children:[(0,t.jsx)("div",{className:"pt-1",children:(0,t.jsx)("div",{className:"text-2xl",children:(e=>{switch(e){case"receipt":return"ðŸ“¥";case"delivery":return"ðŸ“¦";case"transfer":return"ðŸ”„";case"adjustment":return"âš–ï¸";default:return"ðŸ“‹"}})(e.type)})}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"font-medium text-foreground",children:[s?.name," - ",e.notes]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.date})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:[(0,t.jsx)(o.Badge,{variant:"secondary",className:(e=>{switch(e){case"receipt":return"bg-blue-500/20 text-blue-600 dark:text-blue-400";case"delivery":return"bg-green-500/20 text-green-600 dark:text-green-400";case"transfer":return"bg-purple-500/20 text-purple-600 dark:text-purple-400";case"adjustment":return"bg-yellow-500/20 text-yellow-600 dark:text-yellow-400";default:return"bg-gray-500/20 text-gray-600 dark:text-gray-400"}})(e.type),children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),(0,t.jsxs)("span",{className:`font-semibold text-sm ${e.quantity<0?"text-destructive":"text-green-600 dark:text-green-400"}`,children:[e.quantity>0?"+":"",e.quantity]})]})]})})]},`history-entry-${e.id}-${r}-${e.date.replace(/[^0-9]/g,"")}`)})}):(0,t.jsx)("div",{className:"py-8 text-center text-muted-foreground",children:"No transactions found"})]}),(0,t.jsxs)(s.Card,{className:"p-6 border border-border bg-card/50",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Generate Reports"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,t.jsxs)(a.Button,{variant:"outline",className:"w-full justify-center gap-2 h-12 bg-transparent",onClick:()=>g("daily"),children:[(0,t.jsx)(d.Download,{className:"w-4 h-4"}),"Daily Report"]}),(0,t.jsxs)(a.Button,{variant:"outline",className:"w-full justify-center gap-2 h-12 bg-transparent",onClick:()=>g("monthly"),children:[(0,t.jsx)(d.Download,{className:"w-4 h-4"}),"Monthly Report"]}),(0,t.jsxs)(a.Button,{variant:"outline",className:"w-full justify-center gap-2 h-12 bg-transparent",onClick:()=>g("custom"),children:[(0,t.jsx)(d.Download,{className:"w-4 h-4"}),"Custom Period"]})]})]})]})}e.s(["default",()=>c])}]);