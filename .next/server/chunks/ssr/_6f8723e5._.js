module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}a.s(["Card",()=>d])},5522,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},41675,a=>{"use strict";let b=(0,a.i(70106).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},32860,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],32860)},73570,a=>{"use strict";let b=(0,a.i(70106).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],73570)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},424,a=>{"use strict";let b={getSettings:()=>({enableLowStockAlerts:!0,emailRecipients:[process.env.ADMIN_EMAIL||"yuganshvthacker@gmail.com"],alertThreshold:100,checkInterval:24}),saveSettings:a=>{},getNotifications:()=>[],saveNotifications:a=>{},createLowStockAlert:(a,b)=>{let c=a.filter(a=>{if(!a.reorderLevel)return!1;let c=a.reorderLevel*(b.alertThreshold/100);return a.stock<=c});if(0===c.length)return[];let d=[];return b.emailRecipients.forEach(a=>{let b={id:`alert-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,recipient:a,subject:`ðŸš¨ Low Stock Alert - ${c.length} Products Need Attention`,body:`
LOW STOCK ALERT
===============

The following products are running low and need to be restocked:

${c.map(a=>`â€¢ ${a.name} (${a.sku})
    Current Stock: ${a.stock} ${a.uom}
    Reorder Level: ${a.reorderLevel} ${a.uom}
    Category: ${a.category}`).join("\n\n")}

Please review and place orders as needed.

---
This is an automated alert from StockMaster Inventory Management System
Generated on: ${new Date().toLocaleString()}
        `,status:"pending",createdAt:new Date().toISOString()};d.push(b)}),d},sendAlert:async b=>{try{let c=b.body.match(/â€¢ (.+?) \((.+?)\)\s+Current Stock: (.+?) (.+?)\s+Reorder Level: (.+?) (.+?)\s+Category: (.+?)$/gm),d=[];c&&(d=c.map(a=>{let b=a.match(/â€¢ (.+?) \((.+?)\)\s+Current Stock: (.+?) (.+?)\s+Reorder Level: (.+?) (.+?)\s+Category: (.+?)$/);return b?{name:b[1],sku:b[2],stock:parseInt(b[3])||0,uom:b[4],reorderLevel:parseInt(b[5])||0,category:b[7]}:null}).filter(Boolean));{let{emailService:c}=await a.A(31944);if(await c.sendLowStockAlert([b.recipient],d))return b.status="sent",b.sentAt=new Date().toISOString(),!0;return b.status="failed",!1}}catch(a){return console.error("Failed to send email alert:",a),b.status="failed",!1}},checkAndSendAlerts:async a=>{let c=b.getSettings();if(!c.enableLowStockAlerts)return;if(c.lastCheck){let a=new Date(c.lastCheck);if((new Date().getTime()-a.getTime())/36e5<c.checkInterval)return}let d=b.createLowStockAlert(a,c);if(0===d.length){c.lastCheck=new Date().toISOString(),b.saveSettings(c);return}let e=b.getNotifications();for(let a of d)await b.sendAlert(a),e.push(a);b.saveNotifications(e),c.lastCheck=new Date().toISOString(),b.saveSettings(c)}};a.s(["notificationService",0,b])},31944,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[root-of-the-server]__ee784d77._.js","server/chunks/ssr/_0f558336._.js"].map(b=>a.l(b))).then(()=>b(9890)))}];

//# sourceMappingURL=_6f8723e5._.js.map