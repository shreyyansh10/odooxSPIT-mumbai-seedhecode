{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/yugansh/Downloads/inventory-management-system%20%281%29/app/dashboard/products/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useStore } from \"@/contexts/store-context\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Plus, Search, Trash2, Edit2 } from \"lucide-react\"\nimport { ProductDialog } from \"@/components/products/product-dialog\"\nimport { LocationStockView } from \"@/components/products/location-stock-view\"\nimport { useState } from \"react\"\nimport { Badge } from \"@/components/ui/badge\"\n\nexport default function ProductsPage() {\n  const { products, deleteProduct, updateProduct } = useStore()\n  const [search, setSearch] = useState(\"\")\n  const [categoryFilter, setCategoryFilter] = useState(\"all\")\n  const [stockFilter, setStockFilter] = useState(\"all\")\n  const [showDialog, setShowDialog] = useState(false)\n  const [editingProduct, setEditingProduct] = useState(null)\n\n  const filteredProducts = products.filter((p) => {\n    const matchesSearch =\n      p.name.toLowerCase().includes(search.toLowerCase()) || p.sku.toLowerCase().includes(search.toLowerCase())\n\n    const matchesCategory = categoryFilter === \"all\" || p.category === categoryFilter\n\n    let matchesStock = true\n    if (stockFilter === \"instock\") matchesStock = p.stock > 20\n    if (stockFilter === \"lowstock\") matchesStock = p.stock > 0 && p.stock <= 20\n    if (stockFilter === \"outofstock\") matchesStock = p.stock === 0\n\n    return matchesSearch && matchesCategory && matchesStock\n  })\n\n  const categories = Array.from(new Set(products.map((p) => p.category)))\n\n  const handleEdit = (product: any) => {\n    setEditingProduct(product)\n    setShowDialog(true)\n  }\n\n  const handleDelete = (id: string) => {\n    if (confirm(\"Are you sure you want to delete this product?\")) {\n      deleteProduct(id)\n    }\n  }\n\n  const stats = {\n    total: products.length,\n    inStock: products.filter((p) => p.stock > 20).length,\n    lowStock: products.filter((p) => p.stock > 0 && p.stock <= 20).length,\n    outOfStock: products.filter((p) => p.stock === 0).length,\n  }\n\n  const getStockStatus = (stock: number) => {\n    if (stock === 0) return { label: \"Out of Stock\", color: \"bg-red-500/20 text-red-600 dark:text-red-400\" }\n    if (stock < 20) return { label: \"Low Stock\", color: \"bg-yellow-500/20 text-yellow-600 dark:text-yellow-400\" }\n    return { label: \"In Stock\", color: \"bg-green-500/20 text-green-600 dark:text-green-400\" }\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-foreground\">Products</h1>\n          <p className=\"text-muted-foreground mt-2\">Manage your inventory products and categories</p>\n        </div>\n        <Button\n          onClick={() => {\n            setEditingProduct(null)\n            setShowDialog(true)\n          }}\n          className=\"gap-2\"\n        >\n          <Plus className=\"w-4 h-4\" />\n          Add Product\n        </Button>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid md:grid-cols-4 gap-4\">\n        <Card className=\"p-4 border border-border bg-card/50\">\n          <p className=\"text-muted-foreground text-sm\">Total Products</p>\n          <p className=\"text-2xl font-bold text-foreground mt-1\">{stats.total}</p>\n        </Card>\n        <Card className=\"p-4 border border-border bg-card/50\">\n          <p className=\"text-muted-foreground text-sm\">In Stock</p>\n          <p className=\"text-2xl font-bold text-green-600 dark:text-green-400 mt-1\">{stats.inStock}</p>\n        </Card>\n        <Card className=\"p-4 border border-border bg-card/50\">\n          <p className=\"text-muted-foreground text-sm\">Low Stock</p>\n          <p className=\"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1\">{stats.lowStock}</p>\n        </Card>\n        <Card className=\"p-4 border border-border bg-card/50\">\n          <p className=\"text-muted-foreground text-sm\">Out of Stock</p>\n          <p className=\"text-2xl font-bold text-destructive mt-1\">{stats.outOfStock}</p>\n        </Card>\n      </div>\n\n      {/* Debug Tools */}\n      <StockTestComponent />\n\n      {/* Search and Filters */}\n      <Card className=\"p-6 border border-border bg-card/50\">\n        <div className=\"space-y-4 mb-6\">\n          <div className=\"flex gap-4\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"absolute left-3 top-3 w-5 h-5 text-muted-foreground\" />\n              <Input\n                placeholder=\"Search by product name or SKU...\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n          </div>\n\n          <div className=\"flex gap-4 flex-wrap\">\n            <select\n              value={categoryFilter}\n              onChange={(e) => setCategoryFilter(e.target.value)}\n              className=\"px-3 py-2 bg-input border border-input rounded-lg text-foreground text-sm\"\n            >\n              <option value=\"all\">All Categories</option>\n              {categories.map((cat) => (\n                <option key={cat} value={cat}>\n                  {cat}\n                </option>\n              ))}\n            </select>\n\n            <select\n              value={stockFilter}\n              onChange={(e) => setStockFilter(e.target.value)}\n              className=\"px-3 py-2 bg-input border border-input rounded-lg text-foreground text-sm\"\n            >\n              <option value=\"all\">All Stock Levels</option>\n              <option value=\"instock\">In Stock</option>\n              <option value=\"lowstock\">Low Stock</option>\n              <option value=\"outofstock\">Out of Stock</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Table */}\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full text-sm\">\n            <thead>\n              <tr className=\"border-b border-border\">\n                <th className=\"text-left py-3 px-4 font-semibold text-foreground\">Name</th>\n                <th className=\"text-left py-3 px-4 font-semibold text-foreground\">SKU</th>\n                <th className=\"text-left py-3 px-4 font-semibold text-foreground\">Category</th>\n                <th className=\"text-left py-3 px-4 font-semibold text-foreground\">Total Stock</th>\n                <th className=\"text-left py-3 px-4 font-semibold text-foreground\">Locations</th>\n                <th className=\"text-left py-3 px-4 font-semibold text-foreground\">Status</th>\n                <th className=\"text-left py-3 px-4 font-semibold text-foreground\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredProducts.length > 0 ? (\n                filteredProducts.map((product) => {\n                  const statusInfo = getStockStatus(product.stock)\n                  return (\n                    <tr key={product.id} className=\"border-b border-border hover:bg-secondary/50 transition-colors\">\n                      <td className=\"py-3 px-4 font-medium text-foreground\">{product.name}</td>\n                      <td className=\"py-3 px-4 font-mono text-xs text-muted-foreground\">{product.sku}</td>\n                      <td className=\"py-3 px-4 text-muted-foreground\">{product.category}</td>\n                      <td className=\"py-3 px-4 font-semibold\">{product.stock} {product.uom}</td>\n                      <td className=\"py-3 px-4\">\n                        <div className=\"flex flex-wrap gap-1\">\n                          {Object.entries(product.locationStock || {}).map(([locationId, stock]) => {\n                            if (stock > 0) {\n                              return (\n                                <Badge key={locationId} variant=\"outline\" className=\"text-xs\">\n                                  {locationId}: {stock}\n                                </Badge>\n                              )\n                            }\n                            return null\n                          })}\n                        </div>\n                      </td>\n                      <td className=\"py-3 px-4\">\n                        <Badge variant=\"secondary\" className={statusInfo.color}>\n                          {statusInfo.label}\n                        </Badge>\n                      </td>\n                      <td className=\"py-3 px-4 flex gap-2\">\n                        <Button size=\"sm\" variant=\"ghost\" onClick={() => handleEdit(product)} className=\"h-8 w-8 p-0\">\n                          <Edit2 className=\"w-4 h-4\" />\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          variant=\"ghost\"\n                          onClick={() => handleDelete(product.id)}\n                          className=\"h-8 w-8 p-0\"\n                        >\n                          <Trash2 className=\"w-4 h-4 text-destructive\" />\n                        </Button>\n                      </td>\n                    </tr>\n                  )\n                })\n              ) : (\n                <tr>\n                  <td colSpan={6} className=\"py-8 text-center text-muted-foreground\">\n                    No products found\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </Card>\n\n      {showDialog && <ProductDialog product={editingProduct} onClose={() => setShowDialog(false)} />}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}